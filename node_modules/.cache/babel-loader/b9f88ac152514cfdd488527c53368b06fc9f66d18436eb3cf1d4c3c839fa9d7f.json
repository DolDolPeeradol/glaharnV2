{"ast":null,"code":"var _jsxFileName = \"/Users/dolpeeradol/Desktop/General/Project_Dollar/glaharn/src/components/Summary.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { Box, Typography, Button, TextField } from '@mui/material';\nimport QRCode from 'qrcode.react';\nimport html2canvas from 'html2canvas';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Summary = () => {\n  _s();\n  const [totalSummary, setTotalSummary] = useState({});\n  const [qrCode, setQrCode] = useState('');\n  useEffect(() => {\n    const storedData = localStorage.getItem('checkbillData');\n    if (storedData) {\n      const parsedData = JSON.parse(storedData);\n      setTotalSummary(parsedData.totalSummary || {});\n    }\n  }, []);\n  const saveSlipAsImage = () => {\n    const slipElement = document.getElementById('summary-slip');\n    html2canvas(slipElement, {\n      scale: 2\n    }).then(canvas => {\n      const link = document.createElement('a');\n      link.href = canvas.toDataURL('image/png');\n      link.download = 'summary-slip.png';\n      link.click();\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      p: 3,\n      backgroundColor: '#ffcc80',\n      borderRadius: '16px',\n      boxShadow: 10,\n      maxWidth: '600px',\n      mx: 'auto',\n      mt: 4,\n      maxHeight: '80vh',\n      overflowY: 'auto'\n    },\n    id: \"summary-slip\",\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h4\",\n      align: \"center\",\n      gutterBottom: true,\n      children: \"Receipt Summary\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this), Object.keys(totalSummary).length === 0 ? /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"body1\",\n      align: \"center\",\n      color: \"error\",\n      children: \"Please enter details in the Check Bill page first.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }, this) : Object.keys(totalSummary).map(participant => /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        mb: 2,\n        p: 2,\n        border: '1px solid #ccc',\n        borderRadius: '8px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        children: [participant, \": \", totalSummary[participant].total.toFixed(2), \" B\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body2\",\n        children: \"Selected Food:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: totalSummary[participant].foodItems.map((foodItem, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [foodItem.name, \": \", foodItem.price.toFixed(2), \" B\"]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 13\n      }, this)]\n    }, participant, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 11\n    }, this)), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        mt: 3,\n        mb: 2,\n        textAlign: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body1\",\n        children: \"Attach your QR Code:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        label: \"QR Code URL\",\n        variant: \"outlined\",\n        fullWidth: true,\n        value: qrCode,\n        onChange: e => setQrCode(e.target.value),\n        sx: {\n          mt: 1\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), qrCode && /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          mt: 2,\n          display: 'flex',\n          justifyContent: 'center'\n        },\n        children: /*#__PURE__*/_jsxDEV(QRCode, {\n          value: qrCode,\n          size: 128\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      onClick: saveSlipAsImage,\n      fullWidth: true,\n      children: \"Save as Image\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 5\n  }, this);\n};\n_s(Summary, \"NOTx+GGS5Lbef1epP2HasiQQMMo=\");\n_c = Summary;\nexport default Summary;\nvar _c;\n$RefreshReg$(_c, \"Summary\");","map":{"version":3,"names":["React","useEffect","useState","Box","Typography","Button","TextField","QRCode","html2canvas","jsxDEV","_jsxDEV","Summary","_s","totalSummary","setTotalSummary","qrCode","setQrCode","storedData","localStorage","getItem","parsedData","JSON","parse","saveSlipAsImage","slipElement","document","getElementById","scale","then","canvas","link","createElement","href","toDataURL","download","click","sx","p","backgroundColor","borderRadius","boxShadow","maxWidth","mx","mt","maxHeight","overflowY","id","children","variant","align","gutterBottom","fileName","_jsxFileName","lineNumber","columnNumber","Object","keys","length","color","map","participant","mb","border","total","toFixed","foodItems","foodItem","index","name","price","textAlign","label","fullWidth","value","onChange","e","target","display","justifyContent","size","onClick","_c","$RefreshReg$"],"sources":["/Users/dolpeeradol/Desktop/General/Project_Dollar/glaharn/src/components/Summary.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Box, Typography, Button, TextField } from '@mui/material';\nimport QRCode from 'qrcode.react';\nimport html2canvas from 'html2canvas';\n\nconst Summary = () => {\n  const [totalSummary, setTotalSummary] = useState({});\n  const [qrCode, setQrCode] = useState('');\n\n  useEffect(() => {\n    const storedData = localStorage.getItem('checkbillData');\n    if (storedData) {\n      const parsedData = JSON.parse(storedData);\n      setTotalSummary(parsedData.totalSummary || {});\n    }\n  }, []);\n\n  const saveSlipAsImage = () => {\n    const slipElement = document.getElementById('summary-slip');\n    html2canvas(slipElement, { scale: 2 }).then(canvas => {\n      const link = document.createElement('a');\n      link.href = canvas.toDataURL('image/png');\n      link.download = 'summary-slip.png';\n      link.click();\n    });\n  };\n\n  return (\n    <Box sx={{ p: 3, backgroundColor: '#ffcc80', borderRadius: '16px', boxShadow: 10, maxWidth: '600px', mx: 'auto', mt: 4, maxHeight: '80vh', overflowY: 'auto' }} id=\"summary-slip\">\n      <Typography variant=\"h4\" align=\"center\" gutterBottom>\n        Receipt Summary\n      </Typography>\n      \n      {Object.keys(totalSummary).length === 0 ? (\n        <Typography variant=\"body1\" align=\"center\" color=\"error\">\n          Please enter details in the Check Bill page first.\n        </Typography>\n      ) : (\n        Object.keys(totalSummary).map((participant) => (\n          <Box key={participant} sx={{ mb: 2, p: 2, border: '1px solid #ccc', borderRadius: '8px' }}>\n            <Typography variant=\"h6\">\n              {participant}: {totalSummary[participant].total.toFixed(2)} B\n            </Typography>\n            <Typography variant=\"body2\">Selected Food:</Typography>\n            <ul>\n              {totalSummary[participant].foodItems.map((foodItem, index) => (\n                <li key={index}>\n                  {foodItem.name}: {foodItem.price.toFixed(2)} B\n                </li>\n              ))}\n            </ul>\n          </Box>\n        ))\n      )}\n\n      <Box sx={{ mt: 3, mb: 2, textAlign: 'center' }}>\n        <Typography variant=\"body1\">Attach your QR Code:</Typography>\n        <TextField\n          label=\"QR Code URL\"\n          variant=\"outlined\"\n          fullWidth\n          value={qrCode}\n          onChange={(e) => setQrCode(e.target.value)}\n          sx={{ mt: 1 }}\n        />\n        {qrCode && (\n          <Box sx={{ mt: 2, display: 'flex', justifyContent: 'center' }}>\n            <QRCode value={qrCode} size={128} />\n          </Box>\n        )}\n      </Box>\n\n      <Button variant=\"contained\" color=\"primary\" onClick={saveSlipAsImage} fullWidth>\n        Save as Image\n      </Button>\n    </Box>\n  );\n};\n\nexport default Summary;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,GAAG,EAAEC,UAAU,EAAEC,MAAM,EAAEC,SAAS,QAAQ,eAAe;AAClE,OAAOC,MAAM,MAAM,cAAc;AACjC,OAAOC,WAAW,MAAM,aAAa;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEtC,MAAMC,OAAO,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACpB,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGZ,QAAQ,CAAC,CAAC,CAAC,CAAC;EACpD,MAAM,CAACa,MAAM,EAAEC,SAAS,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;EAExCD,SAAS,CAAC,MAAM;IACd,MAAMgB,UAAU,GAAGC,YAAY,CAACC,OAAO,CAAC,eAAe,CAAC;IACxD,IAAIF,UAAU,EAAE;MACd,MAAMG,UAAU,GAAGC,IAAI,CAACC,KAAK,CAACL,UAAU,CAAC;MACzCH,eAAe,CAACM,UAAU,CAACP,YAAY,IAAI,CAAC,CAAC,CAAC;IAChD;EACF,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMU,eAAe,GAAGA,CAAA,KAAM;IAC5B,MAAMC,WAAW,GAAGC,QAAQ,CAACC,cAAc,CAAC,cAAc,CAAC;IAC3DlB,WAAW,CAACgB,WAAW,EAAE;MAAEG,KAAK,EAAE;IAAE,CAAC,CAAC,CAACC,IAAI,CAACC,MAAM,IAAI;MACpD,MAAMC,IAAI,GAAGL,QAAQ,CAACM,aAAa,CAAC,GAAG,CAAC;MACxCD,IAAI,CAACE,IAAI,GAAGH,MAAM,CAACI,SAAS,CAAC,WAAW,CAAC;MACzCH,IAAI,CAACI,QAAQ,GAAG,kBAAkB;MAClCJ,IAAI,CAACK,KAAK,CAAC,CAAC;IACd,CAAC,CAAC;EACJ,CAAC;EAED,oBACEzB,OAAA,CAACP,GAAG;IAACiC,EAAE,EAAE;MAAEC,CAAC,EAAE,CAAC;MAAEC,eAAe,EAAE,SAAS;MAAEC,YAAY,EAAE,MAAM;MAAEC,SAAS,EAAE,EAAE;MAAEC,QAAQ,EAAE,OAAO;MAAEC,EAAE,EAAE,MAAM;MAAEC,EAAE,EAAE,CAAC;MAAEC,SAAS,EAAE,MAAM;MAAEC,SAAS,EAAE;IAAO,CAAE;IAACC,EAAE,EAAC,cAAc;IAAAC,QAAA,gBAC/KrC,OAAA,CAACN,UAAU;MAAC4C,OAAO,EAAC,IAAI;MAACC,KAAK,EAAC,QAAQ;MAACC,YAAY;MAAAH,QAAA,EAAC;IAErD;MAAAI,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAY,CAAC,EAEZC,MAAM,CAACC,IAAI,CAAC3C,YAAY,CAAC,CAAC4C,MAAM,KAAK,CAAC,gBACrC/C,OAAA,CAACN,UAAU;MAAC4C,OAAO,EAAC,OAAO;MAACC,KAAK,EAAC,QAAQ;MAACS,KAAK,EAAC,OAAO;MAAAX,QAAA,EAAC;IAEzD;MAAAI,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAY,CAAC,GAEbC,MAAM,CAACC,IAAI,CAAC3C,YAAY,CAAC,CAAC8C,GAAG,CAAEC,WAAW,iBACxClD,OAAA,CAACP,GAAG;MAAmBiC,EAAE,EAAE;QAAEyB,EAAE,EAAE,CAAC;QAAExB,CAAC,EAAE,CAAC;QAAEyB,MAAM,EAAE,gBAAgB;QAAEvB,YAAY,EAAE;MAAM,CAAE;MAAAQ,QAAA,gBACxFrC,OAAA,CAACN,UAAU;QAAC4C,OAAO,EAAC,IAAI;QAAAD,QAAA,GACrBa,WAAW,EAAC,IAAE,EAAC/C,YAAY,CAAC+C,WAAW,CAAC,CAACG,KAAK,CAACC,OAAO,CAAC,CAAC,CAAC,EAAC,IAC7D;MAAA;QAAAb,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAY,CAAC,eACb5C,OAAA,CAACN,UAAU;QAAC4C,OAAO,EAAC,OAAO;QAAAD,QAAA,EAAC;MAAc;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAY,CAAC,eACvD5C,OAAA;QAAAqC,QAAA,EACGlC,YAAY,CAAC+C,WAAW,CAAC,CAACK,SAAS,CAACN,GAAG,CAAC,CAACO,QAAQ,EAAEC,KAAK,kBACvDzD,OAAA;UAAAqC,QAAA,GACGmB,QAAQ,CAACE,IAAI,EAAC,IAAE,EAACF,QAAQ,CAACG,KAAK,CAACL,OAAO,CAAC,CAAC,CAAC,EAAC,IAC9C;QAAA,GAFSG,KAAK;UAAAhB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAEV,CACL;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACA,CAAC;IAAA,GAXGM,WAAW;MAAAT,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAYhB,CACN,CACF,eAED5C,OAAA,CAACP,GAAG;MAACiC,EAAE,EAAE;QAAEO,EAAE,EAAE,CAAC;QAAEkB,EAAE,EAAE,CAAC;QAAES,SAAS,EAAE;MAAS,CAAE;MAAAvB,QAAA,gBAC7CrC,OAAA,CAACN,UAAU;QAAC4C,OAAO,EAAC,OAAO;QAAAD,QAAA,EAAC;MAAoB;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAY,CAAC,eAC7D5C,OAAA,CAACJ,SAAS;QACRiE,KAAK,EAAC,aAAa;QACnBvB,OAAO,EAAC,UAAU;QAClBwB,SAAS;QACTC,KAAK,EAAE1D,MAAO;QACd2D,QAAQ,EAAGC,CAAC,IAAK3D,SAAS,CAAC2D,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;QAC3CrC,EAAE,EAAE;UAAEO,EAAE,EAAE;QAAE;MAAE;QAAAQ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACf,CAAC,EACDvC,MAAM,iBACLL,OAAA,CAACP,GAAG;QAACiC,EAAE,EAAE;UAAEO,EAAE,EAAE,CAAC;UAAEkC,OAAO,EAAE,MAAM;UAAEC,cAAc,EAAE;QAAS,CAAE;QAAA/B,QAAA,eAC5DrC,OAAA,CAACH,MAAM;UAACkE,KAAK,EAAE1D,MAAO;UAACgE,IAAI,EAAE;QAAI;UAAA5B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACjC,CACN;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC,eAEN5C,OAAA,CAACL,MAAM;MAAC2C,OAAO,EAAC,WAAW;MAACU,KAAK,EAAC,SAAS;MAACsB,OAAO,EAAEzD,eAAgB;MAACiD,SAAS;MAAAzB,QAAA,EAAC;IAEhF;MAAAI,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACN,CAAC;AAEV,CAAC;AAAC1C,EAAA,CAxEID,OAAO;AAAAsE,EAAA,GAAPtE,OAAO;AA0Eb,eAAeA,OAAO;AAAC,IAAAsE,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}